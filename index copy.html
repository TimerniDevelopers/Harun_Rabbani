@extends('front.layouts.master')

@section('content')

@section('css')
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" />
    <style>
        /* ========

                    Template Name: Portfolio -  HTML Template

                    ===========*/


        /* =========
                    --- CSS INDEX ---
                    01. Common CSS
                    02. Header CSS
                    03. Banner CSS
                    04. Counter CSS
                    05. Partner CSS
                    06. App CSS
                    07. Component CSS
                    08. Creative CSS
                    09. Frame CSS
                    10. Faq CSS
                    11. Pricing CSS
                    12. Review CSS
                    13. Contact CSS
                    14. Footer CSS

                    32.Responsive CSS
                    ============*/




        /*==========Common CSS Start==========*/
        :root {
            --primary: #000000;
            --pompelmo: #FF6666;
            --sku: #00CBFE;
            --green: #99CC33;
            --yellow: #FFC600;
            --white: #FFFFFF;
            --white-bg: #FFFFFF;
            --bg1: #F5F5F5;
        }

        * {
            margin: 0;
            padding: 0;
            outline: none;
            box-sizing: border-box;
        }

        *::after,
        *::before {
            transition: all 0.3s ease 0s !important;
            border: none;
            -webkit-transition: all 0.3s ease 0s !important;
            -moz-transition: all 0.3s ease 0s !important;
            -ms-transition: all 0.3s ease 0s !important;
            -o-transition: all 0.3s ease 0s !important;
        }

        body {
            font-family: 'Inter', sans-serif;
            font-size: 14px;
            font-weight: 400;
            line-height: 1.5;
        }

        a,
        a:hover,
        a:focus {
            text-decoration: none;
            outline: none;
        }

        button {
            border: none;
        }

        input,
        input:focus,
        input:hover,
        button,
        button:hover,
        button:focus {
            outline: none;
        }

        img {
            width: auto;
            max-width: 100%;
        }

        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        p {
            margin-bottom: 0;
        }

        ul {
            list-style: outside none none;
            margin: 0;
            padding: 0;
        }

        /*Defalt Margin and padding*/

        .mt-10 {
            margin-top: 10px;
        }

        .mt-15 {
            margin-top: 15px;
        }

        .mt-20 {
            margin-top: 20px;
        }

        .mt-25 {
            margin-top: 25px;
        }

        .mt-30 {
            margin-top: 30px;
        }

        .mt-35 {
            margin-top: 35px;
        }

        .mt-40 {
            margin-top: 40px;
        }

        .mt-45 {
            margin-top: 45px;
        }

        .mt-50 {
            margin-top: 50px;
        }

        .mt-55 {
            margin-top: 55px;
        }

        .mt-60 {
            margin-top: 60px;
        }

        .mt-65 {
            margin-top: 65px;
        }

        .mt-70 {
            margin-top: 70px;
        }

        .mt-75 {
            margin-top: 75;
        }

        .mt-80 {
            margin-top: 80px;
        }

        .mt-85 {
            margin-top: 85px;
        }

        .mt-90 {
            margin-top: 90px;
        }

        .mt-95 {
            margin-top: 95px;
        }

        .mt-100 {
            margin-top: 100px;
        }

        .mt-105 {
            margin-top: 105px;
        }

        .mt-110 {
            margin-top: 110px;
        }

        .mt-115 {
            margin-top: 115px;
        }

        .mt-120 {
            margin-top: 120px;
        }

        .mt-125 {
            margin-top: 125px;
        }

        .mt-130 {
            margin-top: 130px;
        }

        .mt-135 {
            margin-top: 135px;
        }

        .mt-140 {
            margin-top: 140px;
        }

        .mt-145 {
            margin-top: 145px;
        }

        .mt-150 {
            margin-top: 150px;
        }

        /*margin-bottom*/

        .mb-10 {
            margin-bottom: 10px;
        }

        .mb-15 {
            margin-bottom: 15px;
        }

        .mb-20 {
            margin-bottom: 20px;
        }

        .mb-25 {
            margin-bottom: 25px;
        }

        .mb-30 {
            margin-bottom: 30px;
        }

        .mb-35 {
            margin-bottom: 35px;
        }

        .mb-40 {
            margin-bottom: 40px;
        }

        .mb-45 {
            margin-bottom: 45px;
        }

        .mb-50 {
            margin-bottom: 50px;
        }

        .mb-55 {
            margin-bottom: 55px;
        }

        .mb-60 {
            margin-bottom: 60px;
        }

        .mb-65 {
            margin-bottom: 65px;
        }

        .mb-70 {
            margin-bottom: 70px;
        }

        .mb-75 {
            margin-bottom: 75;
        }

        .mb-80 {
            margin-bottom: 80px;
        }

        .mb-85 {
            margin-bottom: 85px;
        }

        .mb-90 {
            margin-bottom: 90px;
        }

        .mb-95 {
            margin-bottom: 95px;
        }

        .mb-100 {
            margin-bottom: 100px;
        }

        .mb-105 {
            margin-bottom: 105px;
        }

        .mb-110 {
            margin-bottom: 110px;
        }

        .mb-115 {
            margin-bottom: 115px;
        }

        .mb-120 {
            margin-bottom: 120px;
        }

        .mb-125 {
            margin-bottom: 125px;
        }

        .mb-130 {
            margin-bottom: 130px;
        }

        .mb-135 {
            margin-bottom: 135px;
        }

        .mb-140 {
            margin-bottom: 140px;
        }

        .mb-145 {
            margin-bottom: 145px;
        }

        .mb-150 {
            margin-bottom: 150px;
        }

        /*margin -left*/
        .ml-0 {
            margin-left: 0px;
        }

        .ml-10 {
            margin-left: 10px;
        }

        .ml-15 {
            margin-left: 15px;
        }

        .ml-20 {
            margin-left: 20px;
        }

        .ml-25 {
            margin-left: 25px;
        }

        .ml-30 {
            margin-left: 30px;
        }

        .ml-35 {
            margin-left: 35px;
        }

        .ml-40 {
            margin-left: 40px;
        }

        .ml-45 {
            margin-left: 45px;
        }

        .ml-50 {
            margin-left: 50px;
        }

        /*margin -right*/

        .mr-10 {
            margin-right: 10px;
        }

        .mr-15 {
            margin-right: 15px;
        }

        .mr-20 {
            margin-right: 20px;
        }

        .mr-25 {
            margin-right: 25px;
        }

        .mr-30 {
            margin-right: 30px;
        }

        .mr-35 {
            margin-right: 35px;
        }

        .mr-40 {
            margin-right: 40px;
        }

        .mr-45 {
            margin-right: 45px;
        }

        .mr-50 {
            margin-right: 50px;
        }

        /*padding -top*/

        .pt-10 {
            padding-top: 10px;
        }

        .pt-15 {
            padding-top: 15px;
        }

        .pt-20 {
            padding-top: 20px;
        }

        .pt-25 {
            padding-top: 25px;
        }

        .pt-30 {
            padding-top: 30px;
        }

        .pt-35 {
            padding-top: 35px;
        }

        .pt-40 {
            padding-top: 40px;
        }

        .pt-45 {
            padding-top: 45px;
        }

        .pt-50 {
            padding-top: 50px;
        }

        .pt-55 {
            padding-top: 55px;
        }

        .pt-60 {
            padding-top: 60px;
        }

        .pt-65 {
            padding-top: 65px;
        }

        .pt-70 {
            padding-top: 70px;
        }

        .pt-75 {
            padding-top: 75;
        }

        .pt-80 {
            padding-top: 80px;
        }

        .pt-85 {
            padding-top: 85px;
        }

        .pt-90 {
            padding-top: 90px;
        }

        .pt-95 {
            padding-top: 95px;
        }

        .pt-100 {
            padding-top: 100px;
        }

        .pt-105 {
            padding-top: 105px;
        }

        .pt-110 {
            padding-top: 110px;
        }

        .pt-115 {
            padding-top: 115px;
        }

        .pt-120 {
            padding-top: 120px;
        }

        .pt-125 {
            padding-top: 125px;
        }

        .pt-130 {
            padding-top: 130px;
        }

        .pt-135 {
            padding-top: 135px;
        }

        .pt-140 {
            padding-top: 140px;
        }

        .pt-145 {
            padding-top: 145px;
        }

        .pt-150 {
            padding-top: 150px;
        }

        .pl-0 {
            padding-left: 0px;
        }

        .pl-10 {
            padding-left: 10px;
        }

        .pl-15 {
            padding-left: 15px;
        }

        .pl-20 {
            padding-left: 20px;
        }

        .pl-25 {
            padding-left: 25px;
        }

        .pl-30 {
            padding-left: 30px;
        }

        .pl-35 {
            padding-left: 35px;
        }

        .pl-40 {
            padding-left: 40px;
        }

        .pl-45 {
            padding-left: 45px;
        }

        .pl-50 {
            padding-left: 50px;
        }

        .pl-55 {
            padding-left: 55px;
        }

        .pl-60 {
            padding-left: 60px;
        }

        .pl-65 {
            padding-left: 65px;
        }

        .pl-70 {
            padding-left: 70px;
        }

        .pl-75 {
            padding-left: 75;
        }

        .pl-80 {
            padding-left: 80px;
        }

        .pl-85 {
            padding-left: 85px;
        }

        .pl-90 {
            padding-left: 90px;
        }

        .pl-95 {
            padding-left: 95px;
        }

        .pl-100 {
            padding-left: 100px;
        }

        .pl-105 {
            padding-left: 105px;
        }

        .pl-110 {
            padding-left: 110px;
        }

        .pl-115 {
            padding-left: 115px;
        }

        .pl-120 {
            padding-left: 120px;
        }

        .pl-125 {
            padding-left: 125px;
        }

        .pl-130 {
            padding-left: 130px;
        }

        .pl-135 {
            padding-left: 135px;
        }

        .pl-140 {
            padding-left: 140px;
        }

        .pl-145 {
            padding-left: 145px;
        }

        .pl-150 {
            padding-left: 150px;
        }

        .pr-0 {
            padding-right: 0px;
        }

        .pr-10 {
            padding-right: 10px;
        }

        .pr-15 {
            padding-right: 15px;
        }

        .pr-20 {
            padding-right: 20px;
        }

        .pr-25 {
            padding-right: 25px;
        }

        .pr-30 {
            padding-right: 30px;
        }

        .pr-35 {
            padding-right: 35px;
        }

        .pr-40 {
            padding-right: 40px;
        }

        .pr-45 {
            padding-right: 45px;
        }

        .pr-50 {
            padding-right: 50px;
        }

        .pr-55 {
            padding-right: 55px;
        }

        .pr-60 {
            padding-right: 60px;
        }

        .pr-65 {
            padding-right: 65px;
        }

        .pr-70 {
            padding-right: 70px;
        }

        .pr-75 {
            padding-right: 75;
        }

        .pr-80 {
            padding-right: 80px;
        }

        .pr-85 {
            padding-left: 85px;
        }

        .pr-90 {
            padding-left: 90px;
        }

        .pr-95 {
            padding-left: 95px;
        }

        .pr-100 {
            padding-right: 100px;
        }

        .pr-105 {
            padding-right: 105px;
        }

        .pr-110 {
            padding-right: 110px;
        }

        .pr-115 {
            padding-right: 115px;
        }

        .pr-120 {
            padding-right: 120px;
        }

        .pr-125 {
            padding-right: 125px;
        }

        .pr-130 {
            padding-right: 130px;
        }

        .pr-135 {
            padding-right: 135px;
        }

        .pr-140 {
            padding-right: 140px;
        }

        .pr-145 {
            padding-right: 145px;
        }

        .pr-150 {
            padding-right: 150px;
        }

        .pb-10 {
            padding-bottom: 10px;
        }

        .pb-15 {
            padding-bottom: 15px;
        }

        .pb-20 {
            padding-bottom: 20px;
        }

        .pb-25 {
            padding-bottom: 25px;
        }

        .pb-30 {
            padding-bottom: 30px;
        }

        .pb-35 {
            padding-bottom: 35px;
        }

        .pb-40 {
            padding-bottom: 40px;
        }

        .pb-45 {
            padding-bottom: 45px;
        }

        .pb-50 {
            padding-bottom: 50px;
        }

        .pb-55 {
            padding-bottom: 55px;
        }

        .pb-60 {
            padding-bottom: 60px;
        }

        .pb-65 {
            padding-bottom: 65px;
        }

        .pb-70 {
            padding-bottom: 70px;
        }

        .pb-75 {
            padding-bottom: 75;
        }

        .pb-80 {
            padding-bottom: 80px;
        }

        .pb-85 {
            padding-bottom: 85px;
        }

        .pb-90 {
            padding-bottom: 90px;
        }

        .pb-95 {
            padding-bottom: 95px;
        }

        .pb-100 {
            padding-bottom: 100px;
        }

        .pb-105 {
            padding-bottom: 105px;
        }

        .pb-110 {
            padding-bottom: 110px;
        }

        .pb-115 {
            padding-bottom: 115px;
        }

        .pb-120 {
            padding-bottom: 120px;
        }

        .pb-125 {
            padding-bottom: 125px;
        }

        .pb-130 {
            padding-bottom: 130px;
        }

        .pb-135 {
            padding-bottom: 135px;
        }

        .pb-140 {
            padding-bottom: 140px;
        }

        .pb-145 {
            padding-bottom: 145px;
        }

        .pb-150 {
            padding-bottom: 150px;
        }

        /* new style */

        .moss-banner {
            padding: 70px 0px;
        }

        .text-black-color {
            color: #000000;
        }

        .moss-left h2 {
            display: inline-block;
            font-size: 120px;
            border: 1px solid #000;
            border-radius: 2px;
            padding: 12px 40px;
            margin: 25px auto;
            text-align: center;
        }

        .mos-accordian .accordion-button::after {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='currentColor' class='bi bi-plus' viewBox='0 0 16 16'%3E%3Cpath d='M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z'/%3E%3C/svg%3E");
            transition: all 0.5s;
        }

        .mos-accordian .accordion-button:not(.collapsed)::after {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='currentColor' class='bi bi-dash' viewBox='0 0 16 16'%3E%3Cpath d='M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z'/%3E%3C/svg%3E");
        }

        .mos-accordian .accordion-button::after {
            transition: all 0.5s;
        }

        .factory-certifaction .accordion-button:focus,
        .mos-accordian .accordion-button:focus {
            z-index: 3;
            border-color: transparent;
            outline: 0;
            box-shadow: none;
        }

        .factory-certifaction .accordion-button:not(.collapsed),
        .mos-accordian .accordion-button:not(.collapsed) {
            color: #000;
            background-color: transparent;
            box-shadow: none;
        }

        .factory-certifaction .accordion-item:first-of-type .accordion-button,
        .mos-accordian .accordion-item:first-of-type .accordion-button {
            border-top-left-radius: 0px;
            border-top-right-radius: 0px;
        }

        .factory-certifaction .accordion-item,
        .mos-accordian .accordion-item {
            background-color: #fff;
            border: none;
            border-top: 1px solid rgb(0, 0, 0);
            border-bottom: 1px solid rgb(0, 0, 0);
            border-radius: 0px;
        }

        .mos-accordian .accordion-body {
            padding: 0.75rem 0rem;
        }

        .factory-certifaction .accordion-body p,
        .moss-right .accordion-body p {
            margin-bottom: 10px;
        }

        .moss-energy {
            background: rgb(198, 255, 111);
            background: radial-gradient(circle, rgba(198, 255, 111, 1) 0%, rgba(9, 212, 9, 1) 54%, rgba(197, 255, 109, 1) 100%);
            padding: 200px 0px;
        }

        .title-h2 {
            font-size: 55px;
            font-weight: 700;

        }

        .enrgy-item {
            padding-right: 15%;
        }

        .factory-location {
            padding: 50px 0px;
        }

        .fac-rating {
            padding-top: 50px;
            padding-bottom: 70px;
        }

        .fac-rating h2 {

            margin-top: 25px;
        }

        .improve-ra {
            border: 2px solid #c5ff6c;
            border-radius: 50%;
            -webkit-border-radius: 50%;
            -moz-border-radius: 50%;
            -ms-border-radius: 50%;
            -o-border-radius: 50%;
            display: block;
            padding: 30px;
            max-width: 250px;
        }

        .factory-certifaction .accordion-button {
            padding: 7px 0px;
            font-size: 12px;
        }

        .factory-certifaction .accordion-body {
            padding: 0px;
            font-size: 12px;
        }

        .factory-certifaction-wrapper h6 {
            padding-bottom: 10px;
            font-size: 15px;
            font-weight: 700;
        }

        .factory-certifaction-wrapper {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .fac-cer-img {
            height: 160px;
            display: flex;
            align-items: center;
            max-width: 160px;
        }

        .fac-single-item {
            flex: 0 0 13.5%;
            margin-bottom: 15px;
        }

        .distance-section {
            background-color: #c5ff6c;
            padding: 60px 0px;
        }

        .distance-section .moss-banner-title .h5 {
            padding-top: 30px;
            padding-bottom: 55px;
        }

        .mos-accordian .accordion-button {
            background: transparent;
            padding: 10px 0px;
        }

        .distance-section .accordion-item {
            background-color: transparent;
        }

        .cleve-care {
            background-image: url({{ asset('dist-front/images/download.jpg') }});
            background-repeat: no-repeat;
            background-size: cover;
            background-position: center center;
            padding: 150px 0px;
            min-height: 400px;
            position: relative;

        }

        .cleve-care:before {
            content: "";
            position: absolute;
            top: 0;
            left: 0px;
            height: 100%;
            width: 100%;
            background-color: #fff;
            clip-path: polygon(0% 100%, 32% 87%, 100% 100%);


        }

        .details-blog-moss {
            padding: 100px 0px;
        }

        .details-blog-moss .details-img-blog .de-img-abs {
            display: inline-block;
            transform: translate(-50%, -50%);
            top: 50%;
            left: 50%;
            position: absolute;
            z-index: 2;
            max-width: 250px;

        }

        .details-blog-moss .details-img-blog .de-img-relative {
            border-radius: 10px;
            -webkit-border-radius: 10px;
            -moz-border-radius: 10px;
            -ms-border-radius: 10px;
            -o-border-radius: 10px;
            position: relative;
            height: 375px;
            width: 100%;
        }

        .details-blog-moss .details-item-blog-content {
            padding: 30px 0px;
        }

        .details-blog-moss .details-learn-m {
            display: inline-block;
            font-size: 13px;
            padding: 15px 25px;
            background-color: #000;
            color: #fff;
            border-radius: 25px;
            -webkit-border-radius: 25px;
            -moz-border-radius: 25px;
            -ms-border-radius: 25px;
            -o-border-radius: 25px;
            margin-top: 15px;
        }

        .details-blog-moss .details-learn-m:hover {
            background-color: rgb(0 0 0 / 80%);
        }

        .moss-f-content h2 {
            font-size: 50px;
            font-weight: 700;
        }

        .footer-area-moss {
            padding: 100px 0px;
        }

        @media (min-width: 320px) and (max-width: 991px) {
            .fac-single-item {
                flex: 0 0 48%;
            }

            .moss-f-content h2 {
                font-size: 38px;
                font-weight: 700;
            }

            .moss-banner-content.flex-md-column-reverse {
                flex-direction: column;
            }

            .moss-banner-content .w-md-100 {
                width: 100% !important;
            }

            .moss-energy {
                padding: 50px 0px;
            }

            .distance-section .moss-banner-title .h5,
            .fac-rating {
                padding-top: 20px;
                padding-bottom: 30px;
            }

            .fac-rating h2 {
                margin-top: 15px;
            }

            .title-h2 {
                font-size: 45px;
            }

            .cleve-care {
                padding: 50px 0px;
                min-height: 400px;
            }

            .details-blog-moss {
                padding: 50px 0px;
            }
        }

        @media (min-width: 992px) and (max-width: 1199px) {
            .fac-single-item {
                flex: 0 0 31%;
            }

        }

        /* Data Section */
        .data-section {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-bottom: 40px;
        }

        .data {
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .data h2 {
            font-size: 1.5em;
            margin-bottom: 10px;
        }

        .data p {
            font-size: 1.2em;
            margin: 5px 0;
        }

        /* Pie Chart Section */
        .chart-section {
            margin-top: 40px;
        }

        .pie-chart {
            position: relative;
            width: 300px;
            height: 300px;
            border-radius: 50%;
            margin: 0 auto;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .pie {
            position: absolute;
            width: 50%;
            height: 100%;
            background-color: transparent;
            clip-path: polygon(100% 0, 0 0, 0 100%, 100% 100%);
            transform-origin: 100% 50%;
            transition: transform 1s ease;
        }

        /* Pie Color Segments */
        .pie.raw-material {
            background-color: #4CAF50;
            /* Green */
            transform: rotate(0deg);
        }

        .pie.weaving-finishing {
            background-color: #FF9800;
            /* Orange */
            transform: rotate(calc(36deg));
        }

        .pie.manufacturing {
            background-color: #2196F3;
            /* Blue */
            transform: rotate(calc(81deg));
        }

        .pie.transportation {
            background-color: #F44336;
            /* Red */
            transform: rotate(calc(93deg));
        }

        /* Dynamic Pie Fill */
        .pie {
            --percent: 0;
            transform: rotate(calc(0deg));
        }

        .chart-container {
            width: 60%;
            margin: 0 auto;
        }

        canvas {
            max-width: 100%;
            max-height: 100%;
        }

        #map {
            height: 364px;
            width: 100%;
        }
    </style>
@endsection

<main>
    <section class="moss-banner">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-7 col-12">
                    <div class="moss-banner-title mb-3">
                        @php
                            $companyName = DB::table('gtdpp_companies')
                                ->where('id', $product->company_id)
                                ->first();
                        @endphp
                        <h3>{{ $companyName->name }}</h3>
                        <h5 class="text-black-color">Digital Passport</h5>
                        <h2 class="text-black-color py-2">{{ $product->name1 ?? '' }}</h2>
                        <h5 class="text-black-color">{{ $product->name2 ?? '' }}</h5>
                    </div>
                    <div class="moss-banner-content d-flex flex-lg-row flex-column-reverse gap-2">
                        <div class="moss-left w-lg-50 w-100 mb-3">
                            <h2 class="text-black-color">{{ $product->grade ?? '' }}</h2>
                            <p>{{ $product->sort_description ?? '' }}</p>
                        </div>
                        <div class="moss-right mos-accordian w-lg-50 w-100 mb-3">
                            <div class="accordion" id="accordionExample">
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button"
                                            data-bs-toggle="collapse" data-bs-target="#collapseOnemoss"
                                            aria-expanded="false" aria-controls="collapseOnemoss">
                                            {{ $product->enegry_used ?? '' }}
                                        </button>
                                    </h2>
                                    <div id="collapseOnemoss" class="accordion-collapse collapse"
                                        data-bs-parent="#accordionExample">
                                        <div class="accordion-body">
                                            <p>{{ $product->enegry_used ?? '' }} of energy used</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button"
                                            data-bs-toggle="collapse" data-bs-target="#collapseTwomoss"
                                            aria-expanded="false" aria-controls="collapseTwomoss">
                                            {{ $product->water_used ?? '' }}
                                        </button>
                                    </h2>
                                    <div id="collapseTwomoss" class="accordion-collapse collapse"
                                        data-bs-parent="#accordionExample">
                                        <div class="accordion-body">
                                            <p>{{ $product->water_used ?? '' }} of water used</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button"
                                            data-bs-toggle="collapse" data-bs-target="#collapseThreemoss"
                                            aria-expanded="false" aria-controls="collapseThreemoss">
                                            {{ $product->co2_used ?? '' }}
                                        </button>
                                    </h2>
                                    <div id="collapseThreemoss" class="accordion-collapse collapse"
                                        data-bs-parent="#accordionExample">
                                        <div class="accordion-body">
                                            <p>{{ $product->co2_used ?? '' }} of Co2 used</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="accordion-item">
                                    <h2 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button"
                                            data-bs-toggle="collapse" data-bs-target="#collapseFourmoss"
                                            aria-expanded="false" aria-controls="collapseFourmoss">
                                            Product Codes
                                        </button>
                                    </h2>
                                    <div id="collapseFourmoss" class="accordion-collapse collapse"
                                        data-bs-parent="#accordionExample">
                                        <div class="accordion-body">
                                            <p>{{ $product->product_codes }}</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Responsive CSS for the Image -->
                <style>
                    .moss-banner-img {
                        position: relative;
                        margin-top: -324px;
                    }

                    .moss-image {
                        position: absolute;
                        top: 0;
                        left: 0;
                        width: 100%;
                        opacity: 0;
                        transition: opacity 1s ease;
                    }

                    .moss-image.active {
                        opacity: 1;
                    }

                    /* Responsive Design */
                    @media (max-width: 768px) {
                        .moss-banner-img {
                            margin-top: 0;
                        }

                        .moss-left,
                        .moss-right {
                            width: 100%;
                        }

                        h2 {
                            font-size: 24px;
                        }

                        p {
                            font-size: 16px;
                        }
                    }
                </style>

                <!-- Image Carousel for Product Images -->
                <div class="col-md-5 col-12">
                    <div class="moss-banner-img" id="image-container">
                        @php
                            $product_image = json_decode($product->image);
                        @endphp
                        @foreach ($product_image as $k => $item)
                            <img src="{{ asset('uploads/' . $item) ?? asset('dist-front/images/Moss_gif.jpg') }}"
                                alt="moss" class="moss-image @if ($k == 0) active @endif">
                        @endforeach
                    </div>
                </div>

                <!-- JavaScript for Image Carousel -->
                <script>
                    document.addEventListener("DOMContentLoaded", function() {
                        const images = document.querySelectorAll('.moss-image');
                        let currentIndex = 0;

                        function showNextImage() {
                            images[currentIndex].classList.remove('active');
                            currentIndex = (currentIndex + 1) % images.length;
                            images[currentIndex].classList.add('active');
                        }
                        setInterval(showNextImage, 3000);
                    });
                </script>
            </div>
        </div>
    </section>
    <section class="moss-energy">
        <div class="container">
            <div class="energy-wraper d-sm-block d-md-flex ">
                <div class="enrgy-item mb-2">
                    <p>Litres of water used </p>
                    <h2 class="title-h2">{{ $product->water_used }}</h2>
                </div>
                <div class="enrgy-item mb-2">
                    <p>kg of CO2 </p>
                    <h2 class="title-h2">{{ $product->co2_used }}</h2>
                </div>
                <div class="enrgy-item mb-2">
                    <p>kwh energy </p>
                    <h2 class="title-h2">{{ $product->enegry_used }}</h2>
                </div>
            </div>
        </div>
    </section>
    <section class="factory-location">
        <div class="container">
            <h3>Carbon Footprint Breakdown</h3>
            <!-- Data Section -->
            <div class="data-section">
                <div class="data">
                    <h2>Raw Material</h2>
                    <p>2 KG CO<sub>2</sub></p>
                </div>
                <div class="data">
                    <h2>Weaving, Dyeing, and Finishing</h2>
                    <p>4 KG CO<sub>2</sub></p>
                    <p>5 KwH</p>
                    <p>828 Litres H<sub>2</sub>O</p>
                </div>
                <div class="data">
                    <h2>Manufacturing</h2>
                    <p>2.5 KG CO<sub>2</sub></p>
                    <p>10 KwH</p>
                    <p>200 Litres H<sub>2</sub>O</p>
                </div>
                <div class="data">
                    <h2>Transportation</h2>
                    <p>1.5 KG CO<sub>2</sub></p>
                </div>
            </div>

            <!-- Pie Chart Section -->
            {{-- <div class="chart-section">
                <h2>Carbon Footprint Distribution</h2>
                <div class="pie-chart">
                    <div class="pie raw-material" style="--percent: 10;"></div>
                    <div class="pie weaving-finishing" style="--percent: 25;"></div>
                    <div class="pie manufacturing" style="--percent: 12.5;"></div>
                    <div class="pie transportation" style="--percent: 7.5;"></div>
                </div>
            </div> --}}
            <div class="chart-container">
                <canvas id="carbonFootprintChart"></canvas>
            </div>
                <div class="row mt-5">
                  <!-- Left Side: Data -->
                  <div class="col-md-6">
                    <h3>Material Breakdown</h3>
                    <ul class="list-group">
                      <li class="list-group-item">Recycled Plastic: 50%</li>
                      <li class="list-group-item">Recycled Cotton: 20%</li>
                      <li class="list-group-item">Recycled Wool: 10%</li>
                      <li class="list-group-item">Other Recycled Materials: 8%</li>
                      <li class="list-group-item">Non-Recycled Materials: 12%</li>
                    </ul>
                  </div>

                  <!-- Right Side: Chart -->
                  <div class="col-md-6">
                    <h3>Material Distribution</h3>
                    <div class="pie-chart-container">
                      <canvas id="materialPieChart"></canvas>
                    </div>
                  </div>
                </div>
            <div class="factory-title">
                <p>Factory Location—</p>
                <p class="pt-1">{{ $product->factory_location->name ?? '' }} </p>
            </div>
            <div class="row">
                <div class="col-md-4 mb-3">
                    <div class="fac-rating">
                        <p>Current Environmental Rating</p>
                        <h2 class="title-h2">{{ $product->factory_location->current_environmental_rating ?? '' }}</h2>
                    </div>
                </div>
                <div class="col-md-4 mb-3">
                    <div class="fac-rating">
                        <p>Commitment improvement to current <br> environmental rating by 2026 </p>
                        <h2 class="title-h2 improve-ra">
                            {{ $product->factory_location->imporvement_current_environmental_rating ?? '' }}</h2>
                    </div>
                </div>
            </div>
            <div class="factory-certifaction text-center">
                <p>Fabric Certification</p>
                <div class="factory-certifaction-wrapper d-flex flex-wrap justify-content-center">
                    @foreach ($product->factory_certification as $item)
                        @if ($item->separate == 2)
                            <div class="fac-single-item">
                                <div class="fac-cer-img">
                                    <img src="{{ asset($item->image) ?? asset('dist-front/images/sedex.jpg') }}"
                                        alt="Certification Image">
                                </div>
                                <h6>{{ $item->name ?? '' }}</h6>
                                <div class="accordion" id="accordionSadex{{ $item->id }}">
                                    <div class="accordion-item">
                                        <h2 class="accordion-header" id="heading{{ $item->id }}">
                                            <button class="accordion-button collapsed" type="button"
                                                data-bs-toggle="collapse"
                                                data-bs-target="#collapseSadex{{ $item->id }}"
                                                aria-expanded="false"
                                                aria-controls="collapseSadex{{ $item->id }}">
                                                {{ $item->title ?? '' }}
                                            </button>
                                        </h2>
                                        <div id="collapseSadex{{ $item->id }}"
                                            class="accordion-collapse collapse"
                                            aria-labelledby="heading{{ $item->id }}"
                                            data-bs-parent="#accordionSadex{{ $item->id }}">
                                            <div class="accordion-body">
                                                <p>{{ $item->description ?? '' }}</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        @endif
                    @endforeach
                </div>

                <p class="text-center">Factory Certification</p>
                <div class="factory-certifaction-wrapper d-flex flex-wrap justify-content-center">
                    @foreach ($product->factory_certification as $item)
                        @if ($item->separate == 1)
                            <div class="fac-single-item">
                                <div class="fac-cer-img">
                                    <img src="{{ asset($item->image) ?? asset('dist-front/images/sedex.jpg') }}"
                                        alt="Certification Image">
                                </div>
                                <h6>{{ $item->name ?? '' }}</h6>
                                <div class="accordion" id="accordionSadex{{ $item->id }}">
                                    <div class="accordion-item">
                                        <h2 class="accordion-header" id="heading{{ $item->id }}">
                                            <button class="accordion-button collapsed" type="button"
                                                data-bs-toggle="collapse"
                                                data-bs-target="#collapseSadex{{ $item->id }}"
                                                aria-expanded="false"
                                                aria-controls="collapseSadex{{ $item->id }}">
                                                {{ $item->title ?? '' }}
                                            </button>
                                        </h2>
                                        <div id="collapseSadex{{ $item->id }}"
                                            class="accordion-collapse collapse"
                                            aria-labelledby="heading{{ $item->id }}"
                                            data-bs-parent="#accordionSadex{{ $item->id }}">
                                            <div class="accordion-body">
                                                <p>{{ $item->description ?? '' }}</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        @endif
                    @endforeach
                </div>
            </div>

        </div>
    </section>

    <section class="distance-section">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-7 mb-3">
                    <div class="moss-banner-title">
                        <h5 class="text-black-color">Distance Travelled KM </h5>
                        <h2 class="text-black-color py-2 title-h2">{{ $product->productTravelled->distance ?? '' }}
                        </h2>
                        <h5 class="text-black-color h5">Transport CO2 —
                            {{ $product->productTravelled->transport_CO2 ?? '' }}</h5>
                    </div>
                    <div class="moss-banner-content ">
                        {{-- <img src="{{ asset($product->productTravelled->image) ?? asset('dist-front/images/location.png') }}"
                            alt="location" style="width: 530px;"> --}}
                        <div id="map"></div>


                    </div>
                </div>
                <div class="col-md-5 mb-3">
                    <div class="distance-right mos-accordian">
                        <div class="accordion" id="accordiondistance">

                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed" type="button"
                                        data-bs-toggle="collapse" data-bs-target="#Pick" aria-expanded="false"
                                        aria-controls="Pick">
                                        Pick up Truck

                                    </button>
                                </h2>
                                <div id="Pick" class="accordion-collapse" data-bs-parent="#accordiondistance">
                                    <div class="accordion-body">
                                        <p>{{ $product->productTravelled->pick_up ?? '' }} of energy used</p>
                                    </div>
                                </div>
                            </div>
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed" type="button"
                                        data-bs-toggle="collapse" data-bs-target="#Port" aria-expanded="false"
                                        aria-controls="Port">
                                        Port
                                    </button>
                                </h2>
                                <div id="Port" class="accordion-collapse collapse"
                                    data-bs-parent="#accordiondistance">
                                    <div class="accordion-body">
                                        <p>{{ $product->productTravelled->port ?? '' }}</p>
                                    </div>
                                </div>
                            </div>
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed" type="button"
                                        data-bs-toggle="collapse" data-bs-target="#Ocean" aria-expanded="false"
                                        aria-controls="Ocean">
                                        Ocean Freight
                                    </button>
                                </h2>
                                <div id="Ocean" class="accordion-collapse collapse"
                                    data-bs-parent="#accordiondistance">
                                    <div class="accordion-body">
                                        <p>{{ $product->productTravelled->ocean ?? '' }}</p>
                                    </div>
                                </div>
                            </div>
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed" type="button"
                                        data-bs-toggle="collapse" data-bs-target="#Felixstowe" aria-expanded="false"
                                        aria-controls="Felixstowe">
                                        Port Felixstowe
                                    </button>
                                </h2>
                                <div id="Felixstowe" class="accordion-collapse collapse"
                                    data-bs-parent="#accordiondistance">
                                    <div class="accordion-body">
                                        <p>{{ $product->productTravelled->port_felixstowe ?? '' }}</p>
                                    </div>
                                </div>
                            </div>
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed" type="button"
                                        data-bs-toggle="collapse" data-bs-target="#Delivery" aria-expanded="false"
                                        aria-controls="Delivery">
                                        Delivery Truck
                                    </button>
                                </h2>
                                <div id="Delivery" class="accordion-collapse collapse"
                                    data-bs-parent="#accordiondistance">
                                    <div class="accordion-body">
                                        <p>{{ $product->productTravelled->delivery ?? '' }}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section class="cleve-care">
        <div class="container">
            <h3>Extend the lifetime of your suit whilst <br>
                taking care of the planet with Clevercare</h3>
            <img src="{{ asset('dist-front/images/Wash.png') }}" alt="">
        </div>
    </section>
    @php
        $blogs = DB::table('product_blogs')
            ->where('product_id', $product->id)
            ->get();
    @endphp
    @if (count($blogs) > 0)
        <section class="details-blog-moss">
            <div class="container">
                <div class="row">
                    @foreach ($blogs as $item)
                        <div class="col-md-4 mb-3">
                            <div class="details-item-blog">
                                <div class="details-img-blog position-relative">
                                    <img class="de-img-relative" src="{{ asset($item->image) }}" alt="clevercare">
                                </div>
                                <div class="details-item-blog-content">
                                    <h6 class="pb-1">{{ $item->title }}</h6>
                                    <p>{{ $item->description }}</p>

                                </div>
                            </div>
                        </div>
                    @endforeach
                    {{-- <div class="col-md-4 mb-3">
                        <div class="details-item-blog">
                            <div class="details-img-blog position-relative">
                                <img class="de-img-relative" src="{{ asset('dist-front/images/Guides2.jpg') }}"
                                    alt="clevercare">
                                <img class="de-img-abs" src="{{ asset('dist-front/images/clevercare.png') }}"
                                    alt="clevercare">
                            </div>
                            <div class="details-item-blog-content">
                                <h6 class="pb-1">How to care for your suit</h6>
                                <p>How to care for your jacket so it lasts it’s expected life time </p>
                                <a href="#" class="details-learn-m">
                                    Learn More
                                </a>
                            </div>
                        </div>
                    </div> --}}

                </div>
            </div>
        </section>
    @endif

</main>


@endsection
@section('jss')
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    // Data for the pie chart
    const data = {
        labels: [
            'Raw Material (2 KG CO2)',
            'Weaving, Dyeing, and Finishing (4 KG CO2)',
            'Manufacturing (2.5 KG CO2)',
            'Transportation (1.5 KG CO2)'
        ],
        datasets: [{
            label: 'CO2 Emissions (KG)',
            data: [2, 4, 2.5, 1.5], // Corresponding CO2 values
            backgroundColor: [
                '#4CAF50', // Green for Raw Material
                '#FF9800', // Orange for Weaving, Dyeing, and Finishing
                '#2196F3', // Blue for Manufacturing
                '#F44336' // Red for Transportation
            ],
            borderColor: ['#fff', '#fff', '#fff', '#fff'],
            borderWidth: 2
        }]
    };

    // Options for the pie chart
    const options = {
        responsive: true,
        plugins: {
            legend: {
                position: 'top',
            },
            tooltip: {
                callbacks: {
                    label: function(tooltipItem) {
                        // Show percentage and value in the tooltip
                        const value = tooltipItem.raw;
                        const total = tooltipItem.dataset.data.reduce((acc, val) => acc + val, 0);
                        const percentage = ((value / total) * 100).toFixed(2);
                        return `${tooltipItem.label}: ${value} KG CO2 (${percentage}%)`;
                    }
                }
            }
        }
    };

    // Create the chart
    const ctx = document.getElementById('carbonFootprintChart').getContext('2d');
    const carbonFootprintChart = new Chart(ctx, {
        type: 'pie', // Pie chart type
        data: data, // Chart data
        options: options // Chart options
    });
</script>

<script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"></script>
<script>
    // Initialize the map
    var map = L.map('map').setView([20.0, 10.0], 3); // Center and zoom level

    // Add OpenStreetMap tile layer
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">Green Threads</a> contributors'
    }).addTo(map);

    // Define the route coordinates (approximate points based on your image)
    var routeCoordinates = [
        [51.5074, -0.1278], // London, UK
        [48.8566, 2.3522], // Paris, France
        [40.4168, -3.7038], // Madrid, Spain
        [38.7223, -9.1393], // Lisbon, Portugal
        [31.7683, 35.2137], // Jerusalem, Israel
        [12.9716, 77.5946] // Bengaluru, India
    ];

    // Add the route to the map
    var route = L.polyline(routeCoordinates, {
        color: 'blue'
    }).addTo(map);

    // Adjust the map to fit the route
    map.fitBounds(route.getBounds());

    // Add markers for key locations
    L.marker([51.5074, -0.1278]).bindPopup('London, UK').addTo(map);
    L.marker([48.8566, 2.3522]).bindPopup('Paris, France').addTo(map);
    L.marker([40.4168, -3.7038]).bindPopup('Madrid, Spain').addTo(map);
    L.marker([38.7223, -9.1393]).bindPopup('Lisbon, Portugal').addTo(map);
    L.marker([31.7683, 35.2137]).bindPopup('Jerusalem, Israel').addTo(map);
    L.marker([12.9716, 77.5946]).bindPopup('Bengaluru, India').addTo(map);
</script>
<script>
    // Select the canvas element for the pie chart
const chartCanvas = document.getElementById('materialPieChart').getContext('2d');

// Data for the pie chart
const materialData = {
  labels: ['Recycled Plastic', 'Recycled Cotton', 'Recycled Wool', 'Other Recycled Materials', 'Non-Recycled Materials'],
  datasets: [{
    data: [50, 20, 10, 8, 12],
    backgroundColor: ['#4caf50', '#2196f3', '#ffeb3b', '#ff9800', '#f44336'],
    borderColor: ['#ffffff', '#ffffff', '#ffffff', '#ffffff', '#ffffff'],
    borderWidth: 2
  }]
};

// Options for the chart (responsiveness, tooltips, and legend)
const chartOptions = {
  responsive: true,
  plugins: {
    legend: {
      position: 'top',
    },
    tooltip: {
      callbacks: {
        label: function(tooltipItem) {
          return tooltipItem.label + ': ' + tooltipItem.raw + '%';
        }
      }
    }
  }
};

// Create the pie chart
const materialPieChart = new Chart(chartCanvas, {
  type: 'pie',
  data: materialData,
  options: chartOptions
});

</script>
@endsection
